@import "tailwindcss";
@import "tw-animate-css";
@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-serif: var(--font-newsreader);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-border, currentcolor);
  }
}

:root {
  /* Warm Lamp Light */
  --background: hsl(40 50% 96%); /* Warm Cream */
  --foreground: hsl(20 50% 20%); /* Warm Dark Brown */
  --card: hsl(40 50% 97%);
  --card-foreground: hsl(20 50% 20%);
  --popover: hsl(40 50% 97%);
  --popover-foreground: hsl(20 50% 20%);
  --primary: hsl(35 90% 50%); /* Deep Amber/Gold */
  --primary-foreground: hsl(40 50% 96%);
  --secondary: hsl(35 30% 90%);
  --secondary-foreground: hsl(20 50% 20%);
  --muted: hsl(35 30% 90%);
  --muted-foreground: hsl(25 30% 45%);
  --accent: hsl(35 30% 90%);
  --accent-foreground: hsl(20 50% 20%);
  --destructive: hsl(0 84% 60%);
  --destructive-foreground: hsl(0 0% 98%);
  --border: hsl(35 30% 85%);
  --input: hsl(35 30% 85%);
  --ring: hsl(35 90% 50%);
  --radius: 0.5rem;
  --chart-1: hsl(25 90% 50%); /* Burnt Orange */
  --chart-2: hsl(45 90% 50%); /* Golden Yellow */
  --chart-3: hsl(30 50% 40%); /* Warm Brown */
  --chart-4: hsl(40 70% 70%); /* Soft Gold */
  --chart-5: hsl(10 80% 50%); /* Deep Red */
}

.dark {
  /* Warm Lamp Dark (Cozy Study) */
  --background: hsl(30 20% 12%); /* Deep Warm Brown/Charcoal */
  --foreground: hsl(35 30% 90%); /* Warm White */
  --card: hsl(30 20% 15%);
  --card-foreground: hsl(35 30% 90%);
  --popover: hsl(30 20% 15%);
  --popover-foreground: hsl(35 30% 90%);
  --primary: hsl(35 90% 60%); /* Glowing Amber Lamp */
  --primary-foreground: hsl(30 20% 12%);
  --secondary: hsl(30 20% 20%);
  --secondary-foreground: hsl(35 30% 90%);
  --muted: hsl(30 20% 20%);
  --muted-foreground: hsl(35 20% 65%);
  --accent: hsl(30 20% 20%);
  --accent-foreground: hsl(35 30% 90%);
  --destructive: hsl(0 62% 30%);
  --destructive-foreground: hsl(0 0% 98%);
  --border: hsl(30 20% 25%);
  --input: hsl(30 20% 25%);
  --ring: hsl(35 90% 60%);
  --chart-1: hsl(25 90% 60%); /* Burnt Orange */
  --chart-2: hsl(45 90% 60%); /* Golden Yellow */
  --chart-3: hsl(30 50% 50%); /* Warm Brown */
  --chart-4: hsl(40 70% 80%); /* Soft Gold */
  --chart-5: hsl(10 80% 60%); /* Deep Red */
}

@layer utilities {
  .bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
  }
}

/* Removed duplicate dark theme and cyber utilities */

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }
}

/* Syntax highlighting for blog posts (rehype-pretty-code) */
pre {
  @apply rounded-lg p-4 overflow-x-auto my-4 bg-transparent;
}

code {
  @apply text-sm font-mono;
}

/* Apply syntax highlighting colors from shiki */
code span {
  color: var(--shiki-light);
}

.dark code span {
  color: var(--shiki-dark);
}

/* Prose styling for MDX blog content */
.prose {
  @apply max-w-none text-foreground;
}

.prose pre {
  @apply my-4;
}

.prose code {
  @apply before:content-none after:content-none;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  @apply text-foreground font-bold;
}

.prose h1 {
  @apply text-4xl mb-4 mt-8;
}

.prose h2 {
  @apply text-3xl mb-3 mt-6;
}

.prose h3 {
  @apply text-2xl mb-2 mt-4;
}

.prose p {
  @apply mb-4 leading-7;
}

.prose a {
  @apply text-primary hover:underline;
}

.prose ul,
.prose ol {
  @apply mb-4 ml-6;
}

.prose li {
  @apply mb-2;
}

.prose blockquote {
  @apply border-l-4 border-primary pl-4 italic my-4;
}

.prose img {
  @apply rounded-lg my-4;
}

.prose table {
  @apply w-full my-4;
}

.prose th {
  @apply bg-muted p-2 text-left font-bold;
}

.prose td {
  @apply p-2 border-t border-border;
}

/* Pure CSS Particle Drift Animations */
@keyframes drift-1 {
  0% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(25vw, -20vh);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes drift-2 {
  0% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(-20vw, 25vh);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes drift-3 {
  0% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(30vw, 15vh);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes drift-4 {
  0% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(-25vw, -15vh);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes drift-5 {
  0% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(20vw, 0);
  }
  50% {
    transform: translate(0, 0);
  }
  75% {
    transform: translate(-20vw, 0);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes drift-6 {
  0% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(0, -15vh);
  }
  50% {
    transform: translate(0, 0);
  }
  75% {
    transform: translate(0, 15vh);
  }
  100% {
    transform: translate(0, 0);
  }
}
